@page
@model IndexModel
@{
    ViewData["Title"] = "Profile";
    ViewData["ActivePage"] = ManageNavPages.Index;
}

<partial name="_StatusMessage" model="Model.StatusMessage" />
<section>
    <div class="container" style="width: 110%;">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-xl-10">
                <div class="card" style="border-radius: 1rem;">
                    <div class="row g-0">
                        <div class="col-md-6 col-lg-5 d-none d-md-block">
                            @if (Model.Input.ProfilePicture != null)
                            {
                                <img id="profilePicture" class="img-fluid" style="border-radius: 1rem 0 0 1rem; height: 430px; object-fit:cover" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.ProfilePicture))">
                            }
                            else
                            {
                                <img id="profilePicture" class="img-fluid" style="border-radius: 1rem 0 0 1rem; height: 430px; object-fit:cover" src="https://mdbcdn.b-cdn.net/img/new/standard/city/053.webp">
                            }
                        </div>
                        <div class="col-md-6 col-lg-7 d-flex align-items-center">
                            <div class="card-body p-3 text-black">

                                <form id="profile-form" method="post" enctype="multipart/form-data">



                                    <div class="form-outline mb-4">


                                        <input asp-for="Input.FirstName" placeholder="Имя" class="form-control form-control-3md" />
                                        <span asp-validation-for="Input.FirstName" class="text-danger"></span>

                                    </div>

                                    <div class="form-outline mb-4">

                                        <input asp-for="Input.LastName" placeholder="Фамилия" class="form-control form-control-md" />
                                        <span asp-validation-for="Input.LastName" class="text-danger"></span>
                                    </div>

                                    <div class="form-outline mb-4">

                                        <input asp-for="Input.Patronymic" placeholder="Отчество" class="form-control form-control-md" />
                                        <span asp-validation-for="Input.Patronymic" class="text-danger"></span>
                                    </div>

                                    <div class="form-outline mb-4">

                                        <input asp-for="Input.Adress" placeholder="Адрес" class="form-control form-control-md" />
                                        <span asp-validation-for="Input.Adress" class="text-danger"></span>
                                    </div>

                                    <div class="form-outline mb-4">

                                        <input asp-for="Input.PhoneNumber" placeholder="Телефон" class="form-control form-control-md" />
                                        <span asp-validation-for="Input.PhoneNumber" class="text-danger"></span>
                                    </div>

                                    <div class="custom-file mb-3">

                                        <input type="file"
                                               name="file"
                                               asp-for="Input.ProfilePicture"
                                               class="custom-file-input"
                                               onchange="document.getElementById('profilePicture').src = window.URL.createObjectURL(this.files[0])">

                                        <label class="custom-file-label" for="validatedCustomFile">
                                            Фото профиля...
                                        </label>


                                    </div>

                                    <div class=" mb-4">
                                        <button type="submit" class="btn btn-dark btn-lg btn-block">Сохранить</button>

                                    </div>




                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}